<body>
  <nav>
    <a href="/">Home</a>
    <a href="/about.html">About</a>
    <a href="/contacts.html">Contacts</a>
    <a href="/recordings.html">Recordings</a>
  </nav>
  <hr>
  {{ content }}

  <!-- Donut Rain on ALL PAGES -->
  <canvas id="donutCanvas" style="position:fixed;top:0;left:0;pointer-events:none;z-index:999;"></canvas>
  <script>
    const canvas = document.getElementById('donutCanvas');
    const ctx = canvas.getContext('2d');
    const donuts = [];
    const donutImg = new Image();
    donutImg.src = "https://png.pngtree.com/png-vector/20200531/ourmid/pngtree-donut-illustration-in-icon-drawn-style-png-image_2216375.jpg";

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    function createDonut() {
      const scale = 0.1 + Math.random() * 0.15;
      donuts.push({
        x: Math.random() * canvas.width,
        y: -50,
        speed: 1 + Math.random() * 2,
        size: 50 * scale,
        rotation: Math.random() * 360,
        rotationSpeed: (Math.random() - 0.5) * 2,
      });
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      donuts.forEach((donut, index) => {
        donut.y += donut.speed;
        donut.rotation += donut.rotationSpeed;

        ctx.save();
        ctx.translate(donut.x, donut.y);
        ctx.rotate(donut.rotation * Math.PI / 180);
        ctx.drawImage(donutImg, -donut.size / 2, -donut.size / 2, donut.size, donut.size);
        ctx.restore();

        if (donut.y - donut.size > canvas.height) {
          donuts.splice(index, 1);
        }
      });
      requestAnimationFrame(animate);
    }

    setInterval(createDonut, 400);
    animate();
  </script>
</body>
